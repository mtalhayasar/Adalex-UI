<div
  class="a-login-form"
  data-auth-form
>
  <form
    action="{{ action|default:'' }}"
    method="POST"
    class="a-login-form__form"
    novalidate
  >
    {% csrf_token %}

    {% if title %}
      <h2 class="a-login-form__title">{{ title }}</h2>
    {% endif %}

    {% if subtitle %}
      <p class="a-login-form__subtitle">{{ subtitle }}</p>
    {% endif %}

    <div class="a-login-form__fields">
      <div class="a-login-form__field">
        {% include "components/label.html" with for_id="login-email" text="Email" required=True %}
        {% include "components/text_input.html" with type="email" name="email" id="login-email" placeholder="Enter your email" required=True error=email_error %}
      </div>

      <div class="a-login-form__field">
        {% include "components/label.html" with for_id="login-password" text="Password" required=True %}
        <div class="a-login-form__password-wrapper" data-password-wrapper>
          {% include "components/text_input.html" with type="password" name="password" id="login-password" placeholder="Enter your password" required=True error=password_error %}
          <button
            type="button"
            class="a-login-form__password-toggle"
            data-password-toggle
            aria-label="Toggle password visibility"
          >
            <span class="a-login-form__icon a-login-form__icon--show">
              {% include "components/icon.html" with name="visibility" size="20" %}
            </span>
            <span class="a-login-form__icon a-login-form__icon--hide">
              {% include "components/icon.html" with name="visibility-off" size="20" %}
            </span>
          </button>
        </div>
      </div>

      {% if show_remember %}
        <div class="a-login-form__remember">
          {% include "components/checkbox.html" with name="remember" id="login-remember" label="Remember me" %}
        </div>
      {% endif %}
    </div>

    {% if error_message %}
      <div class="a-login-form__error" role="alert">
        {% include "components/alert.html" with type="error" message=error_message dismissible=False %}
      </div>
    {% endif %}

    <div class="a-login-form__actions">
      {% include "components/button.html" with type="submit" variant="primary" text="Sign In" full_width=True %}
    </div>

    {% if show_forgot_password or show_register_link %}
      <div class="a-login-form__links">
        {% if show_forgot_password %}
          <a href="{{ forgot_password_url|default:'#' }}" class="a-login-form__link">Forgot password?</a>
        {% endif %}
        {% if show_register_link %}
          <a href="{{ register_url|default:'#' }}" class="a-login-form__link">Create an account</a>
        {% endif %}
      </div>
    {% endif %}
  </form>
</div>
