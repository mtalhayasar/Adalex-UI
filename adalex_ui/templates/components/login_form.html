<div
  class="a-login-form"
  data-auth-form
>
  <form
    action="{{ action|default:'' }}"
    method="POST"
    class="a-login-form__form"
    novalidate
  >
    {% csrf_token %}

    {% if title %}
      <h2 class="a-login-form__title">{{ title }}</h2>
    {% endif %}

    {% if subtitle %}
      <p class="a-login-form__subtitle">{{ subtitle }}</p>
    {% endif %}

    <div class="a-login-form__fields">
      <div class="a-login-form__field">
        {% include "components/label.html" with for_id="login-email" text="Email" required=True %}
        {% include "components/text_input.html" with type="email" name="email" id="login-email" placeholder="Enter your email" required=True error=email_error %}
      </div>

      <div class="a-login-form__field">
        {% include "components/label.html" with for_id="login-password" text="Password" required=True %}
        <div class="a-login-form__password-wrapper" data-password-wrapper>
          {% include "components/text_input.html" with type="password" name="password" id="login-password" placeholder="Enter your password" required=True error=password_error %}
          <button
            type="button"
            class="a-login-form__password-toggle"
            data-password-toggle
            aria-label="Toggle password visibility"
          >
            <svg class="a-login-form__icon a-login-form__icon--show" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 5C5.636 5 2 12 2 12C2 12 5.636 19 12 19C18.364 19 22 12 22 12C22 12 18.364 5 12 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
            </svg>
            <svg class="a-login-form__icon a-login-form__icon--hide" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20C5.636 20 2 12 2 12A18.45 18.45 0 0 1 5.636 7.05M9.9 4.24A9.12 9.12 0 0 1 12 4C18.364 4 22 12 22 12A18.5 18.5 0 0 1 19.17 15.73" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M1 1L23 23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9.9 9.9A3 3 0 1 0 14.1 14.1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      {% if show_remember %}
        <div class="a-login-form__remember">
          {% include "components/checkbox.html" with name="remember" id="login-remember" label="Remember me" %}
        </div>
      {% endif %}
    </div>

    {% if error_message %}
      <div class="a-login-form__error" role="alert">
        {% include "components/alert.html" with type="error" message=error_message dismissible=False %}
      </div>
    {% endif %}

    <div class="a-login-form__actions">
      {% include "components/button.html" with type="submit" variant="primary" text="Sign In" full_width=True %}
    </div>

    {% if show_forgot_password or show_register_link %}
      <div class="a-login-form__links">
        {% if show_forgot_password %}
          <a href="{{ forgot_password_url|default:'#' }}" class="a-login-form__link">Forgot password?</a>
        {% endif %}
        {% if show_register_link %}
          <a href="{{ register_url|default:'#' }}" class="a-login-form__link">Create an account</a>
        {% endif %}
      </div>
    {% endif %}
  </form>
</div>
